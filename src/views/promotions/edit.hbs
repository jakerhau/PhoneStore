<div class="relative flex flex-col gap-4 pb-6 overflow-x-clip">
  <div class='flex items-center gap-1.5'>
    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 512 512">
      <path d="M402 168c-2.93 40.67-33.1 72-66 72s-63.12-31.32-66-72c-3-42.31 26.37-72 66-72s69 30.46 66 72z"
        fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" />
      <path
        d="M336 304c-65.17 0-127.84 32.37-143.54 95.41-2.08 8.34 3.15 16.59 11.72 16.59h263.65c8.57 0 13.77-8.25 11.72-16.59C463.85 335.36 401.18 304 336 304z"
        fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32" />
      <path
        d="M200 185.94c-2.34 32.48-26.72 58.06-53 58.06s-50.7-25.57-53-58.06C91.61 152.15 115.34 128 147 128s55.39 24.77 53 57.94z"
        fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" />
      <path
        d="M206 306c-18.05-8.27-37.93-11.45-59-11.45-52 0-102.1 25.85-114.65 76.2-1.65 6.66 2.53 13.25 9.37 13.25H154"
        fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" />
    </svg>
    <span class='font-semibold text-lg'>Sửa khuyến mãi</span>
  </div>
  <div class="grid grid-cols-1 items-start gap-4">
    <form method="POST" action="/admin/promotions/{{promotion._id}}?_method=PUT" class="col-span-1 md:col-span-1 flex flex-col gap-4">
      <div class="flex flex-col gap-5 p-5 bg-white rounded border border-neutral-5 shadow overflow-hidden">
        <div class="flex flex-col gap-1.5">
          <span class="pb-2.5 text-[15px] font-semibold leading-5 border-b border-neutral-5">Sửa thông tin khuyến mãi</span>
          <div class="grid sm:grid-cols-[1fr_1fr] md:grid-cols-[1fr_1fr_1fr] gap-2.5">
            <div class="flex flex-col gap-1.5">
              <label for="name">Tên khuyến mãi</label>
              <input type="text" name="name" id="name" placeholder="Nhập tên khuyến mãi" class="base-input-sm" value="{{promotion.name}}" required>
            </div>

            <div class="flex flex-col gap-1.5">
              <label for="pointsRequired">Điểm yêu cầu</label>
              <input type="number" name="pointsRequired" id="pointsRequired" placeholder="Nhập điểm yêu cầu" class="base-input-sm" value="{{promotion.pointsRequired}}" required>
            </div>

            <div class="flex flex-col gap-1.5">
              <label for="discountType">Loại giảm giá</label>
              <select name="discountType" id="discountType" class="base-input-sm" required>
                <option value="fixed" {{#if (eq promotion.discountType 'fixed')}}selected{{/if}}>Cố định</option>
                <option value="percentage" {{#if (eq promotion.discountType 'percentage')}}selected{{/if}}>Phần trăm</option>
              </select>
            </div>

            <div class="flex flex-col gap-1.5">
              <label for="discountValue">Giá trị giảm giá</label>
              <input type="number" name="discountValue" id="discountValue" placeholder="Nhập giá trị giảm giá" class="base-input-sm" value="{{promotion.discountValue}}" required>
            </div>

            <div class="flex flex-col gap-1.5">
              <label for="startDate">Ngày bắt đầu</label>
              <input type="date" name="startDate" id="startDate" class="base-input-sm" value="{{formatDate promotion.startDate 'YYYY-MM-DD'}}" required>
            </div>

            <div class="flex flex-col gap-1.5">
              <label for="endDate">Ngày kết thúc</label>
              <input type="date" name="endDate" id="endDate" class="base-input-sm" value="{{formatDate promotion.endDate 'YYYY-MM-DD'}}" required>
            </div>

            <div class="flex flex-col gap-1.5">
              <label for="status">Trạng thái</label>
              <select name="status" id="status" class="base-input-sm" required>
                <option value="active" {{#if (eq promotion.status 'active')}}selected{{/if}}>Hoạt động</option>
                <option value="inactive" {{#if (eq promotion.status 'inactive')}}selected{{/if}}>Không hoạt động</option>
              </select>
            </div>

            <div class="flex flex-col gap-1.5">
              <label for="applicableProducts">Sản phẩm áp dụng</label>
              <select name="applicableProducts" id="applicableProducts" class="base-input-sm" required>
                <option value="all" {{#if (eq promotion.applicableProducts 'all')}}selected{{/if}}>Tất cả sản phẩm</option>
                {{#each products}}
                  <option value="{{this._id}}" {{#if (eq ../promotion.applicableProducts this._id)}}selected{{/if}}>{{this.name}}</option>
                {{/each}}
              </select>
            </div>
          </div>
        </div>

        <div class="flex flex-col gap-1.5">
          <span class="pb-2.5 text-[15px] font-semibold leading-5 border-b border-neutral-5">Mô tả</span>
          <textarea name="description" id="description" rows="4" class="base-input-sm" placeholder="Nhập mô tả khuyến mãi" required>{{promotion.description}}</textarea>
        </div>

        <div class="flex items-center justify-end gap-2.5">
          <a href="/admin/promotions" class="button-secondary-solid-sm">Quay lại</a>
          <button type="submit" class="button-primary-solid-sm">Cập nhật khuyến mãi</button>
        </div>
      </div>
    </form>
  </div>
</div>
